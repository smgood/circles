<!DOCTYPE html>
<head>
  <title>Circles</title>

  <script>
    var imgCanvas = document.createElement('canvas');
    var artCanvas = document.createElement('canvas');
    document.body.appendChild(artCanvas);

    function drawImageFromWebUrl(sourceurl){
          var img = new Image();
          img.src = sourceurl;

          img.addEventListener("load", function () {
            imgCanvas.width = artCanvas.width = img.width;
            imgCanvas.height = artCanvas.height = img.height;

            imgCanvas.getContext("2d").drawImage(img, 0, 0, img.width, img.height, 0, 0, imgCanvas.width, imgCanvas.height);

            var ctx = artCanvas.getContext("2d");

            for (let i = 0; i < imgCanvas.width; i++) {
              for (let j = 0; j < imgCanvas.height; j++) {
                var pixelData = imgCanvas.getContext('2d').getImageData(i, j, 1, 1).data;
                r = pixelData[0];
                g = pixelData[1];
                b = pixelData[2];

                ctx.beginPath();
                ctx.arc(i, j, 1, 0, 2 * Math.PI);
                ctx.fillStyle = `rgb(${r}, ${g}, ${b})`;
                ctx.fill();
              }
            }
          });
    }

    drawImageFromWebUrl("images/sean.jpg");

  </script>

</head>

<html>
<body>
</body>
</html>
